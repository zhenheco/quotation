# Email 認證系統測試檢查清單

## 測試環境

- **開發伺服器**: http://localhost:3333
- **測試日期**: 2025-10-25
- **測試者**: _____________

---

## 自動化測試結果 ✅

### 1. TypeScript 類型檢查
- ✅ **狀態**: 通過
- **備註**: 新增的檔案沒有 TypeScript 錯誤
  - `EmailLoginForm.tsx` - 無錯誤
  - `RegisterForm.tsx` - 無錯誤
  - `ResetPasswordForm.tsx` - 無錯誤
  - `LoginTabs.tsx` - 無錯誤

### 2. ESLint 程式碼檢查
- ✅ **狀態**: 通過
- **修復項目**:
  - 移除 LoginTabs 中未使用的 `locale` prop

---

## 手動測試項目

### A. Email 登入測試 (http://localhost:3333/zh/login)

#### A1. UI 顯示測試

- [ ] **登入頁面正常載入**
  - Logo 顯示正確
  - 標題「報價單系統」顯示
  - Tab 切換介面顯示

- [ ] **Tab 切換功能**
  - [ ] 預設選擇 "Email 登入" tab
  - [ ] 可以切換到 "Google 登入" tab
  - [ ] 切換回 "Email 登入" tab 正常
  - [ ] Tab 切換有平滑動畫

#### A2. Email 登入表單測試

- [ ] **表單欄位顯示**
  - [ ] Email 輸入欄位顯示
  - [ ] Password 輸入欄位顯示
  - [ ] "忘記密碼？" 連結顯示
  - [ ] "還沒有帳號？立即註冊" 連結顯示
  - [ ] 登入按鈕顯示

- [ ] **密碼顯示/隱藏功能**
  - [ ] 預設密碼隱藏（顯示為 ••••••）
  - [ ] 點擊眼睛圖示可以顯示密碼
  - [ ] 再次點擊可以隱藏密碼

#### A3. Email 登入功能測試

**準備**: 先完成註冊測試（B 部分）建立測試帳號

- [ ] **成功登入流程**
  - 測試帳號: _________________
  - [ ] 輸入正確的 Email 和密碼
  - [ ] 點擊「使用 Email 登入」按鈕
  - [ ] 顯示載入狀態（"登入中..."）
  - [ ] 顯示成功 toast 訊息（"登入成功"）
  - [ ] 自動跳轉到 Dashboard (`/zh/dashboard`)

- [ ] **錯誤處理 - 錯誤的密碼**
  - [ ] 輸入正確的 Email，錯誤的密碼
  - [ ] 點擊登入
  - [ ] 顯示錯誤訊息：「電子郵件或密碼錯誤」
  - [ ] 不會跳轉頁面

- [ ] **錯誤處理 - 不存在的 Email**
  - [ ] 輸入不存在的 Email
  - [ ] 點擊登入
  - [ ] 顯示錯誤訊息：「電子郵件或密碼錯誤」
  - [ ] 不會跳轉頁面

- [ ] **錯誤處理 - Email 未確認**
  - [ ] 使用未確認的帳號登入
  - [ ] 顯示錯誤訊息：「請先驗證您的電子郵件」

- [ ] **表單驗證 - 空欄位**
  - [ ] 不輸入任何內容直接點擊登入
  - [ ] 顯示錯誤訊息：「請輸入電子郵件和密碼」

#### A4. 連結測試

- [ ] **忘記密碼連結**
  - [ ] 點擊「忘記密碼？」
  - [ ] 跳轉到密碼重設頁面 (`/zh/reset-password`)

- [ ] **註冊連結**
  - [ ] 點擊「立即註冊」
  - [ ] 跳轉到註冊頁面 (`/zh/register`)

---

### B. 註冊功能測試 (http://localhost:3333/zh/register)

#### B1. UI 顯示測試

- [ ] **註冊頁面正常載入**
  - [ ] Logo 顯示
  - [ ] 標題「註冊新帳號」顯示
  - [ ] 副標題顯示

- [ ] **表單欄位顯示**
  - [ ] Email 輸入欄位
  - [ ] 密碼輸入欄位
  - [ ] 確認密碼輸入欄位
  - [ ] 服務條款核取方塊
  - [ ] 註冊按鈕
  - [ ] 返回登入連結

#### B2. 密碼強度指示器測試

- [ ] **弱密碼（紅色）**
  - [ ] 輸入短密碼（如 "abc"）
  - [ ] 顯示 1/3 紅色進度條
  - [ ] 顯示「密碼強度：弱」

- [ ] **中等密碼（黃色）**
  - [ ] 輸入中等密碼（如 "Abcd1234"）
  - [ ] 顯示 2/3 黃色進度條
  - [ ] 顯示「密碼強度：中」

- [ ] **強密碼（綠色）**
  - [ ] 輸入強密碼（如 "Abcd1234!@#"）
  - [ ] 顯示 3/3 綠色進度條
  - [ ] 顯示「密碼強度：強」

#### B3. 密碼要求提示測試

- [ ] **即時檢查**
  - [ ] 輸入少於 8 字元時，「至少 8 個字元」為灰色
  - [ ] 輸入 8 字元以上時，該項變為綠色 ✓
  - [ ] 輸入大寫字母時，「包含大寫字母」變為綠色 ✓
  - [ ] 輸入數字時，「包含數字」變為綠色 ✓

#### B4. 密碼確認驗證

- [ ] **密碼不匹配**
  - [ ] 在「確認密碼」輸入不同的密碼
  - [ ] 顯示紅色警告：「密碼不一致」

- [ ] **密碼匹配**
  - [ ] 輸入相同的密碼
  - [ ] 不顯示錯誤訊息

#### B5. 註冊流程測試

**測試用 Email**: 請使用您真實可以收信的 Email

- [ ] **成功註冊**
  - 測試 Email: _________________
  - [ ] 填寫 Email
  - [ ] 填寫符合要求的密碼（8 字元以上、大寫、數字）
  - [ ] 確認密碼匹配
  - [ ] 勾選服務條款
  - [ ] 點擊「註冊」按鈕
  - [ ] 顯示載入狀態（"註冊中..."）
  - [ ] 顯示成功訊息（"註冊成功！請查看您的電子郵件以確認帳號"）
  - [ ] 2 秒後自動跳轉到登入頁面
  - [ ] 登入頁面顯示綠色提示：「✅ 註冊成功！請查看您的電子郵件並點擊確認連結以啟用帳號。」

- [ ] **檢查確認郵件**
  - [ ] 打開 Email 信箱
  - [ ] 收到來自 Supabase 的確認郵件
  - [ ] 郵件包含確認連結
  - **郵件內容截圖**: 📸 _________________

- [ ] **點擊確認連結**
  - [ ] 點擊郵件中的確認連結
  - [ ] 跳轉到系統頁面（應該顯示確認成功訊息）
  - **確認後頁面**: _________________

#### B6. 錯誤處理測試

- [ ] **Email 已存在**
  - [ ] 使用已註冊的 Email 註冊
  - [ ] 顯示錯誤：「此電子郵件已被註冊」

- [ ] **密碼太短**
  - [ ] 輸入少於 8 字元的密碼
  - [ ] 點擊註冊
  - [ ] 顯示錯誤：「密碼至少需要 8 個字元」

- [ ] **密碼不匹配**
  - [ ] 確認密碼與密碼不同
  - [ ] 點擊註冊
  - [ ] 顯示錯誤：「密碼不一致」

- [ ] **未勾選服務條款**
  - [ ] 填寫所有欄位但不勾選服務條款
  - [ ] 點擊註冊
  - [ ] 顯示錯誤：「請先同意服務條款」
  - [ ] 註冊按鈕為 disabled 狀態

- [ ] **空欄位**
  - [ ] 留空任何欄位
  - [ ] 點擊註冊
  - [ ] 顯示錯誤：「請填寫所有欄位」

---

### C. 密碼重設測試 (http://localhost:3333/zh/reset-password)

#### C1. UI 顯示測試

- [ ] **密碼重設頁面正常載入**
  - [ ] 鎖頭圖示顯示
  - [ ] 標題「重設密碼」顯示
  - [ ] 使用說明文字顯示

- [ ] **表單顯示**
  - [ ] Email 輸入欄位
  - [ ] 「發送重設連結」按鈕
  - [ ] 返回登入連結

#### C2. 發送重設郵件測試

**使用註冊測試時建立的帳號**

- [ ] **成功發送**
  - [ ] 輸入已註冊的 Email
  - [ ] 點擊「發送重設連結」
  - [ ] 顯示載入狀態（"發送中..."）
  - [ ] 顯示成功訊息（"重設連結已發送，請查看您的電子郵件"）
  - [ ] 頁面切換到確認頁面

#### C3. 確認頁面測試

- [ ] **確認頁面顯示**
  - [ ] 顯示綠色勾選圖示
  - [ ] 標題「重設連結已發送」
  - [ ] 說明文字顯示
  - [ ] 顯示發送到的 Email 地址
  - [ ] 「使用其他電子郵件」按鈕
  - [ ] 「返回登入」按鈕

- [ ] **使用其他 Email 按鈕**
  - [ ] 點擊「使用其他電子郵件」
  - [ ] 返回到輸入 Email 的表單

- [ ] **返回登入按鈕**
  - [ ] 點擊「返回登入」
  - [ ] 跳轉到登入頁面

#### C4. 檢查重設郵件

- [ ] **收到重設郵件**
  - [ ] 打開 Email 信箱
  - [ ] 收到密碼重設郵件
  - [ ] 郵件包含重設連結
  - **郵件內容截圖**: 📸 _________________

- [ ] **⚠️ 點擊重設連結（預期會失敗）**
  - [ ] 點擊郵件中的重設連結
  - [ ] **預期結果**: 404 錯誤或頁面不存在
  - **原因**: `/update-password` 頁面尚未建立
  - **備註**: 這是已知問題，需要後續實作

#### C5. 錯誤處理測試

- [ ] **空欄位**
  - [ ] 不輸入 Email
  - [ ] 點擊發送
  - [ ] 顯示錯誤：「請輸入電子郵件地址」

---

### D. 國際化測試

#### D1. 中文介面測試

- [ ] **登入頁面** (http://localhost:3333/zh/login)
  - [ ] 所有文字顯示為中文
  - [ ] Tab 標籤為中文
  - [ ] 按鈕文字為中文
  - [ ] 錯誤訊息為中文

- [ ] **註冊頁面** (http://localhost:3333/zh/register)
  - [ ] 所有文字顯示為中文
  - [ ] 密碼強度提示為中文
  - [ ] 成功訊息為中文

- [ ] **密碼重設頁面** (http://localhost:3333/zh/reset-password)
  - [ ] 所有文字顯示為中文

#### D2. 英文介面測試

- [ ] **登入頁面** (http://localhost:3333/en/login)
  - [ ] 所有文字顯示為英文
  - [ ] Tab 標籤為英文
  - [ ] 按鈕文字為英文
  - [ ] 錯誤訊息為英文

- [ ] **註冊頁面** (http://localhost:3333/en/register)
  - [ ] 所有文字顯示為英文
  - [ ] 密碼強度提示為英文

- [ ] **密碼重設頁面** (http://localhost:3333/en/reset-password)
  - [ ] 所有文字顯示為英文

---

### E. 響應式設計測試

#### E1. 桌面瀏覽器 (1920x1080)

- [ ] 登入頁面佈局正常
- [ ] 註冊頁面佈局正常
- [ ] 密碼重設頁面佈局正常

#### E2. 平板 (768x1024)

- [ ] 登入頁面佈局正常
- [ ] 註冊頁面佈局正常
- [ ] 所有按鈕可點擊

#### E3. 手機 (375x667)

- [ ] 登入頁面佈局正常
- [ ] 註冊頁面佈局正常
- [ ] 表單輸入正常
- [ ] 按鈕大小適中，易於點擊

---

### F. 整合測試

#### F1. 完整註冊到登入流程

- [ ] **步驟 1**: 訪問註冊頁面
- [ ] **步驟 2**: 填寫註冊表單
- [ ] **步驟 3**: 提交註冊
- [ ] **步驟 4**: 檢查確認郵件
- [ ] **步驟 5**: 點擊確認連結啟用帳號
- [ ] **步驟 6**: 返回登入頁面
- [ ] **步驟 7**: 使用新帳號登入
- [ ] **步驟 8**: 成功進入 Dashboard

**完成時間**: _________________
**總耗時**: _______ 分鐘

#### F2. Google OAuth 對比測試

- [ ] **Google 登入仍然可用**
  - [ ] 切換到 "Google 登入" tab
  - [ ] 點擊「Sign in with Google」
  - [ ] 可以正常登入（如果已修復 redirect_uri 問題）

---

## 已知問題清單

### 🔴 Critical (必須修復)

**無**

### 🟡 Major (建議修復)

1. **缺少更新密碼頁面**
   - **描述**: 密碼重設郵件連結指向 `/update-password`，但該頁面不存在
   - **影響**: 用戶無法完成密碼重設流程
   - **建議**: 實作 `/update-password` 頁面

2. **缺少服務條款頁面**
   - **描述**: 註冊頁面有服務條款連結，但 `/terms` 頁面不存在
   - **影響**: 用戶無法查看服務條款
   - **建議**: 建立服務條款頁面或暫時移除連結

### 🟢 Minor (可選修復)

1. **Email 範本未客製化**
   - **描述**: 使用 Supabase 預設 Email 範本
   - **建議**: 在 Supabase Dashboard 自訂 Email 範本，加入公司 Logo

---

## 測試環境資訊

### Supabase 配置

- **Supabase URL**: `https://nxlqtnnssfzzpbyfjnby.supabase.co`
- **本地開發 URL**: `http://localhost:3333`
- **Auth Providers**:
  - ✅ Email/Password
  - ⚠️ Google OAuth (需要修復 redirect_uri)

### 瀏覽器測試

建議測試以下瀏覽器:
- [ ] Chrome (最新版)
- [ ] Firefox (最新版)
- [ ] Safari (最新版)
- [ ] Edge (最新版)

---

## 測試結果總結

### 測試通過率

- Email 登入: _____ / _____ (____%)
- 註冊功能: _____ / _____ (____%)
- 密碼重設: _____ / _____ (____%)
- 國際化: _____ / _____ (____%)
- 響應式: _____ / _____ (____%)

### 發現的問題

| 編號 | 嚴重性 | 描述 | 截圖/備註 |
|------|--------|------|----------|
| 1    |        |      |          |
| 2    |        |      |          |
| 3    |        |      |          |

### 總體評價

- [ ] ✅ 通過 - 可以部署
- [ ] ⚠️ 有問題但可接受 - 建議修復後部署
- [ ] ❌ 失敗 - 必須修復後才能部署

### 測試者簽名

- **姓名**: _________________
- **日期**: _________________
- **備註**: _________________

---

## 下一步行動

### 立即需要做的

1. [ ] 完成所有手動測試
2. [ ] 記錄發現的問題
3. [ ] 決定是否部署

### 後續改進

1. [ ] 實作 `/update-password` 頁面
2. [ ] 建立 `/terms` 服務條款頁面
3. [ ] 修復 Google OAuth redirect_uri 問題
4. [ ] 客製化 Email 範本
5. [ ] 增加 2FA 雙因素認證（可選）

---

**文檔版本**: 1.0
**最後更新**: 2025-10-25
**維護者**: Claude Code
